<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ resume.candidate_name }} - Currículo</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <div class="resume-container">
    <!-- Header -->
    <header class="resume-header">
      <h1 class="candidate-name">{{ resume.candidate_name }}</h1>
      <div class="contact-line">
        {% set contact_parts = [] %}
        {% if resume.contact_info.phone %}
        {% set _ = contact_parts.append(resume.contact_info.phone) %}
        {% endif %}
        {% if resume.contact_info.email %}
        {% set _ = contact_parts.append(resume.contact_info.email) %}
        {% endif %}
        {% if resume.contact_info.linkedin %}
        {% set _ = contact_parts.append('LinkedIn: ' ~ resume.contact_info.linkedin) %}
        {% endif %}
        {% if resume.contact_info.location %}
        {% set _ = contact_parts.append(resume.contact_info.location) %}
        {% endif %}
        {{ contact_parts | join(' • ') }}
      </div>
    </header>

    <!-- Professional Summary -->
    {% if resume.professional_summary %}
    <section class="section">
      <h2 class="section-title">RESUMO PROFISSIONAL</h2>
      <div class="section-content">
        <p>{{ resume.professional_summary }}</p>
      </div>
    </section>
    {% endif %}

    <!-- Experience -->
    {% if resume.experiences %}
    <section class="section">
      <h2 class="section-title">EXPERIÊNCIA PROFISSIONAL</h2>
      <div class="section-content">
        {% for exp in resume.experiences %}
        <div class="entry">
          <div class="entry-header">
            <span class="entry-title">{{ exp.company }} — {{ exp.position }}</span>
            <span class="entry-date">
              {{ exp.date_range.start_formatted }} -
              {% if exp.date_range.is_current %}Atual{% else %}{{ exp.date_range.end_formatted }}{% endif %}
            </span>
          </div>
          {% if exp.description %}
          <p class="entry-description">{{ exp.description }}</p>
          {% endif %}
          {% if exp.achievements %}
          <ul class="entry-list">
            {% for achievement in exp.achievements %}
            <li>{{ achievement }}</li>
            {% endfor %}
          </ul>
          {% endif %}
        </div>
        {% endfor %}
      </div>
    </section>
    {% endif %}

    <!-- Education -->
    {% if resume.educations %}
    <section class="section">
      <h2 class="section-title">EDUCAÇÃO</h2>
      <div class="section-content">
        {% for edu in resume.educations %}
        <div class="entry">
          <div class="entry-header">
            <span class="entry-title">{{ edu.institution }}</span>
            {% if edu.date_range %}
            <span class="entry-date">
              {{ edu.date_range.start_formatted }} -
              {% if edu.date_range.is_current %}Atual{% else %}{{ edu.date_range.end_formatted }}{% endif %}
            </span>
            {% endif %}
          </div>
          <p class="entry-subtitle">{{ edu.degree }}{% if edu.field_of_study %} em {{ edu.field_of_study }}{% endif %}
          </p>
        </div>
        {% endfor %}
      </div>
    </section>
    {% endif %}

    <!-- Skills -->
    {% if resume.skills %}
    <section class="section">
      <h2 class="section-title">HABILIDADES</h2>
      <div class="section-content">
        <p class="skills-text">{{ resume.skills | map(attribute='name') | join(', ') }}</p>
      </div>
    </section>
    {% endif %}

    <!-- Languages -->
    {% if resume.languages %}
    <section class="section">
      <h2 class="section-title">IDIOMAS</h2>
      <div class="section-content">
        <p class="languages-text">
          {% for lang in resume.languages %}
          <strong>{{ lang.name }}</strong> ({{ lang.proficiency }}){% if not loop.last %} • {% endif %}
          {% endfor %}
        </p>
      </div>
    </section>
    {% endif %}

    <!-- Certifications -->
    {% if resume.certifications %}
    <section class="section">
      <h2 class="section-title">CERTIFICAÇÕES</h2>
      <div class="section-content">
        <ul class="certifications-list">
          {% for cert in resume.certifications %}
          <li>{{ cert }}</li>
          {% endfor %}
        </ul>
      </div>
    </section>
    {% endif %}
  </div>
</body>

</html>